# Водич за Професори - Систем за Евиденција на Присуство

Добредојдовте во системот за евиденција на присуство. Овој водич ќе ве води низ сите функционалности на системот.

## Содржина

1. [Почетна Поставка](#почетна-поставка)
2. [Логирање](#логирање)
3. [Dashboard - Контролна Табла](#dashboard---контролна-табла)
4. [Креирање на Нова Сесија](#креирање-на-нова-сесија)
5. [Управување со Активна Сесија](#управување-со-активна-сесија)
6. [Преглед на Скенирања](#преглед-на-скенирања)
7. [Мануелно Додавање на Студенти](#мануелно-додавање-на-студенти)
8. [Завршување на Сесија](#завршување-на-сесија)
9. [Експортирање на Податоци](#експортирање-на-податоци)
10. [Архива на Сесии](#архива-на-сесии)
11. [Често Поставувани Прашања](#често-поставувани-прашања)
12. [Troubleshooting](#troubleshooting)

---

## Почетна Поставка

### Што ви Треба
- Компјутер или таблет со интернет конекција
- Проектор за прикажување на QR кодот
- Дозволен пристап до GPS локација
- Modern web browser (Chrome, Firefox, Safari, Edge)

### Прв Пат Логирање
1. Отворете го системот во browser
2. Одете на `/professor/login`
3. Администраторот ќе ви даде email и иницијална лозинка
4. Препорачуваме да ја смените лозинката по првото логирање

---

## Логирање

### Чекори за Логирање

1. **Отворете ја Login страната**
   - URL: `https://vashiot-domen.com/professor/login`
   - Или кликнете "Professor? Click here to login" на главната страна

2. **Внесете ги вашите податоци**
   - Email адреса
   - Лозинка

3. **Кликнете "Sign in"**
   - Доколку податоците се точни, ќе бидете пренасочени на Dashboard

### Проблеми со Логирање

**Грешка: "Invalid credentials"**
- Проверете дали email е точно напишан
- Проверете дали лозинката е точна (внимавајте на големи/мали букви)
- Доколку сте заборавиле лозинка, контактирајте администратор

**Грешка: "Failed to access server"**
- Проверете интернет конекција
- Проверете дали системот е достапен
- Пробајте да го освежите браузерот (F5)

---

## Dashboard - Контролна Табла

По успешно логирање, ќе го видите Dashboard со следните информации:

### Горен Дел - Header
- **Ваше име** - Прикажано во горниот десен агол
- **Logout копче** - За одјавување од системот

### Главна Секција

#### Активна Сесија (доколку постои)
```
┌─────────────────────────────────────────┐
│ Active Session                          │
│ Started: 14:30, 15 October 2025         │
│                                         │
│ [View Active Session]                   │
└─────────────────────────────────────────┘
```

#### Нова Сесија (доколку нема активна)
```
┌─────────────────────────────────────────┐
│ [Start New Session]                     │
└─────────────────────────────────────────┘
```

#### Листа на Претходни Сесии
```
┌─────────────────────────────────────────┐
│ Previous Sessions                       │
│                                         │
│ Session 1: 12 Oct 2025, 10:00-11:30    │
│   Valid: 45 | Invalid: 3               │
│   [View Details] [Export CSV]           │
│                                         │
│ Session 2: 10 Oct 2025, 14:00-15:30    │
│   Valid: 42 | Invalid: 5               │
│   [View Details] [Export CSV]           │
└─────────────────────────────────────────┘
```

---

## Креирање на Нова Сесија

### Чекори

1. **Отворете го Dashboard**
   - Одете на `/professor/dashboard`

2. **Кликнете "Start New Session"**

3. **Дозволете GPS пристап**
   - Браузерот ќе побара дозвола за локација
   - Кликнете "Allow" или "Дозволи"
   - Ова е задолжително за да функционира системот

4. **Почекајте GPS Фиксирање**
   ```
   Getting your GPS location...
   ```
   - Системот ја добива вашата локација
   - Може да потрае 5-15 секунди
   - Доколку сте во затворен простор, приближете се кон прозорец

5. **Сесијата е Креирана**
   - Автоматски ќе бидете пренасочени на сесијата
   - Ќе се прикаже QR код

### Важни Напомени

- **Само една активна сесија** - Не можете да имате повеќе од една активна сесија истовремено
- **GPS е задолжителен** - Без GPS, не може да се креира сесија
- **Локацијата е фиксирана** - Вашата почетна локација се користи за верификација на студентите

---

## Управување со Активна Сесија

### Екран на Активна Сесија

```
┌─────────────────────────────────────────────────────┐
│                   Active Session                    │
│                                                     │
│    ┌──────────────────────┐                        │
│    │                      │                        │
│    │     QR CODE          │   Session Info:        │
│    │     [rotating]       │   Started: 14:30       │
│    │                      │   Duration: 00:15:32   │
│    └──────────────────────┘                        │
│                                                     │
│   Token rotates every 30 seconds                   │
│   Next refresh in: 23s                             │
│                                                     │
│   ┌─────────────────────────────────────┐          │
│   │ Valid Scans (45)                    │          │
│   ├─────────────────────────────────────┤          │
│   │ 1. Ana Petrovic (2021/0001) 14:35  │          │
│   │ 2. Marko Jovanovic (2021/0002) 14:35│         │
│   │ 3. Elena Dimitrievska (2021/0003)   │          │
│   └─────────────────────────────────────┘          │
│                                                     │
│   ┌─────────────────────────────────────┐          │
│   │ Invalid Scans (3)                   │          │
│   ├─────────────────────────────────────┤          │
│   │ 1. TOO_FAR - Stefan (2021/0045)     │          │
│   │ 2. DUPLICATE_DEVICE - Ana (2021/01) │          │
│   └─────────────────────────────────────┘          │
│                                                     │
│   [Manual Override] [End Session] [Export]         │
└─────────────────────────────────────────────────────┘
```

### QR Код Функционалност

#### Ротирачки Токени
- QR кодот се ажурира **секои 30 секунди**
- Ова спречува студенти да фотографираат и споделуваат кодови
- Timer покажува кога ќе се ажурира следниот код

#### Прикажување на QR
- **Проектор** - Прикажете го на голем екран
- **Zoom** - Користете browser zoom (Ctrl/Cmd + +) за поголем код
- **Fullscreen** - Притиснете F11 за цел екран режим

### Мониторинг во Реално Време

#### Валидни Скенирања
- Автоматски се ажурираат кога студент успешно скенира
- Прикажуваат: Име, Индекс, Време
- Зелена боја = Успешно

#### Невалидни Скенирања
- Прикажуваат неуспешни обиди
- Црвена боја = Неуспешно
- Вклучуваат причина за неуспех

### Причини за Невалидни Скенирања

| Причина | Објаснување | Решение |
|---------|--------------|---------|
| **TOO_FAR** | Студентот е подалеку од 50m | Студентот треба да се приближи |
| **DUPLICATE_DEVICE** | Истиот уред веќе скенирал | Користете друг уред или мануелно додавање |
| **EXPIRED_TOKEN** | QR токенот е истечен | Студентот треба да скенира нов QR |
| **INVALID_TOKEN** | Токенот не постои | Студентот треба да скенира точен QR |
| **GPS_UNAVAILABLE** | Студентот нема GPS | Појдете надвор или мануелно додавање |

---

## Преглед на Скенирања

### Табеларен Преглед

Кликнете на која било сесија за детален преглед:

```
┌──────────────────────────────────────────────────────────┐
│ Session Details - 12 October 2025, 10:00-11:30          │
├──────────────────────────────────────────────────────────┤
│                                                          │
│ ┌─ Valid Scans (45) ────────────────────────────────┐   │
│ │ #  │ Index      │ Name            │ Time   │ Dist │   │
│ ├────┼────────────┼─────────────────┼────────┼──────┤   │
│ │ 1  │ 2021/0001  │ Ana Petrovic    │ 10:05  │ 12m  │   │
│ │ 2  │ 2021/0002  │ Marko Jovanovic │ 10:06  │ 8m   │   │
│ │ 3  │ 2021/0003  │ Elena Dimitr.   │ 10:06  │ 15m  │   │
│ └────────────────────────────────────────────────────┘   │
│                                                          │
│ ┌─ Invalid Scans (3) ───────────────────────────────┐   │
│ │ #  │ Index      │ Name       │ Reason     │ Time  │   │
│ ├────┼────────────┼────────────┼────────────┼───────┤   │
│ │ 1  │ 2021/0045  │ Stefan     │ TOO_FAR    │ 10:12 │   │
│ │ 2  │ 2021/0046  │ Ana        │ DUPLICATE  │ 10:15 │   │
│ └────────────────────────────────────────────────────┘   │
│                                                          │
│ [Export CSV] [Back to Dashboard]                        │
└──────────────────────────────────────────────────────────┘
```

### Филтрирање и Пребарување

- **Пребарување по индекс** - Најдете конкретен студент
- **Сортирање** - По време, име, индекс
- **Филтер** - Валидни, невалидни или сите

---

## Мануелно Додавање на Студенти

Понекогаш е потребно мануелно да додадете студент (техничка проблеми, проблеми со уред, итн.)

### Кога да Користите Мануелно Додавање

- Студентот нема камера на уредот
- GPS не функционира на уредот
- Проблеми со интернет конекција
- Студентот заборавил уред
- Технички проблеми со скенирањето

### Чекори

1. **Отворете ја активната сесија**

2. **Кликнете "Manual Override"**
   ```
   ┌───────────────────────────────────┐
   │ Manually Add Student              │
   ├───────────────────────────────────┤
   │ Student Index: [          ]       │
   │ First Name:    [          ]       │
   │ Last Name:     [          ]       │
   │ Reason:        [          ]       │
   │                (optional)         │
   │                                   │
   │ [Cancel]           [Add Student]  │
   └───────────────────────────────────┘
   ```

3. **Внесете ги податоците**
   - **Student Index** - Задолжително (пр. 2021/0001)
   - **First Name** - Задолжително
   - **Last Name** - Задолжително
   - **Reason** - Опционално (пр. "Камерата не работи")

4. **Кликнете "Add Student"**

5. **Потврда**
   - Студентот ќе се појави во листата на валидни скенирања
   - Означен како "MANUAL_OVERRIDE"

### Важни Напомени

- Мануелно додавањето се евидентира во базата
- Во експортот се означува дека е мануелно додавање
- Можете да додадете причина за документација
- Користете го само кога е навистина потребно

---

## Завршување на Сесија

### Кога да Ја Завршите Сесијата

- Часот е завршен
- Сите студенти завршиле со скенирање
- Нема повеќе студенти за евидентирање

### Чекори

1. **Во активната сесија, кликнете "End Session"**

2. **Потврдете го завршувањето**
   ```
   ┌─────────────────────────────────────┐
   │ Are you sure you want to end this   │
   │ session?                            │
   │                                     │
   │ [Cancel]  [Yes, End Session]        │
   └─────────────────────────────────────┘
   ```

3. **Резултат**
   - Сесијата е завршена
   - QR кодот не е повеќе валиден
   - Студентите не можат повеќе да скенираат
   - Податоците се зачувани во база

4. **Пренасочување**
   - Автоматски се враќате на Dashboard
   - Сесијата се преместува во архива

### Што Се Случува по Завршување

- ✓ Сесијата добива end timestamp
- ✓ Сите QR токени се инвалидираат
- ✓ Податоците остануваат зачувани
- ✓ Може да експортирате податоци во секое време

---

## Експортирање на Податоци

### Формат на CSV Експорт

Системот експортира три CSV фајлови:

#### 1. Valid Scans (Валидни Скенирања)
```csv
Index,Name,Surname,Time,Distance(m),Device,GPS_Lat,GPS_Lon,Is_Manual
2021/0001,Ana,Petrovic,2025-10-12 10:05:23,12.5,abc123...,42.123456,21.123456,false
2021/0002,Marko,Jovanovic,2025-10-12 10:06:15,8.3,def456...,42.123457,21.123457,false
```

#### 2. Invalid Scans (Невалидни Скенирања)
```csv
Index,Name,Surname,Time,Reason,Distance(m),GPS_Lat,GPS_Lon
2021/0045,Stefan,Stojanovic,2025-10-12 10:12:34,TOO_FAR,65.2,42.124456,21.124456
2021/0046,Ana,Petrovic,2025-10-12 10:15:12,DUPLICATE_DEVICE,10.1,42.123456,21.123456
```

#### 3. Session Info (Информации за Сесија)
```csv
Session_ID,Professor,Start_Time,End_Time,Professor_GPS_Lat,Professor_GPS_Lon,Total_Valid,Total_Invalid
abc-123-def,Dr. John Doe,2025-10-12 10:00:00,2025-10-12 11:30:00,42.123456,21.123456,45,3
```

### Како да Експортирате

#### Од Активна Сесија
1. Кликнете "Export CSV" во активната сесија
2. Фајловите автоматски се преземаат

#### Од Dashboard
1. Најдете ја сесијата во листата
2. Кликнете "Export CSV" копче
3. Фајловите се преземаат

### Формат на Фајлови

Три фајлови се креираат:
- `session_[ID]_valid_scans.csv`
- `session_[ID]_invalid_scans.csv`
- `session_[ID]_info.csv`

### Отворање на CSV Фајлови

- **Excel** - Отворете директно или Import Data
- **Google Sheets** - File > Import > Upload
- **LibreOffice Calc** - Отворете директно

---

## Архива на Сесии

### Преглед на Претходни Сесии

На Dashboard, листата на претходни сесии покажува:

- Датум и време на сесијата
- Траење на сесијата
- Број на валидни скенирања
- Број на невалидни скенирања
- Копчиња за акции

### Акции со Архивирани Сесии

#### View Details (Преглед на Детали)
- Прикажува ги сите скенирања
- Табеларен преглед
- Можност за пребарување

#### Export CSV
- Експортира податоци за конкретна сесија
- Исти формати како активна сесија

### Чување на Податоци

- Сите податоци се трајно зачувани
- Нема временско ограничување
- Можете да експортирате во секое време
- Податоците не се бришат автоматски

---

## Често Поставувани Прашања

### Општи Прашања

**П: Колку сесии можам да имам истовремено?**
О: Само една активна сесија по професор. Морате да ја завршите тековната за да започнете нова.

**П: Дали QR кодот се менува?**
О: Да, секои 30 секунди се генерира нов QR код за безбедност.

**П: Дали можам да продолжам сесија?**
О: Не, сесиите треба да се завршат и не можат да се продолжат. Започнете нова сесија за следниот час.

**П: Колку долго траат податоците?**
О: Податоците се трајни и се чуваат додека не се избришат од администратор.

### GPS Прашања

**П: GPS не ме лоцира точно**
О: GPS точноста варира. Доколку сте во зграда, приближете се кон прозорец за подобар сигнал.

**П: Колку време трае да се фиксира GPS?**
О: Обично 5-15 секунди. Прв пат може да потрае до 30 секунди.

**П: Дали морам да бидам на истото место целата сесија?**
О: Не, но вашата почетна локација се користи за верификација. Доколку се движите многу, студентите може да бидат премногу далеку.

### QR Прашања

**П: QR кодот е премал на проектор**
О: Користете browser zoom (Ctrl/Cmd + +) или притиснете F11 за fullscreen.

**П: Студентите кажуваат дека кодот е истечен**
О: QR се менува на 30 секунди. Кажете им да почекаат на новиот код.

**П: Дали можам да го фотографирам QR кодот?**
О: Не препорачуваме - кодот е валиден само 30 секунди.

### Проблеми со Студенти

**П: Студентот не може да скенира - TOO_FAR**
О: Студентот е премногу далеку (> 50m). Треба да се приближи или користете мануелно додавање.

**П: Студентот нема камера/GPS**
О: Користете "Manual Override" за да го додадете мануелно.

**П: Студентот скенирал двапати со ист уред**
О: Системот не дозволува дупликат скенирања. Доколку има валиден случај, користете мануелно додавање.

**П: Студентот го избриша апликацијата и пробува повторно**
О: Device ID се чува и пак ќе биде детектиран како дупликат.

---

## Troubleshooting

### Проблеми со Логирање

**Симптом:** Не можам да се логирам
```
Решенија:
1. Проверете email и лозинка
2. Проверете интернет конекција
3. Освежете го браузерот (Ctrl+F5)
4. Пробајте друг браузер
5. Контактирајте администратор
```

### Проблеми со GPS

**Симптом:** GPS не работи или е бавен
```
Решенија:
1. Дозволете пристап до локација во browser
2. Одете кон прозорец за подобар сигнал
3. Одете надвор доколку е можно
4. Почекајте 15-30 секунди
5. Рестартирајте го браузерот
6. Проверете browser settings за локација
```

### Проблеми со QR

**Симптом:** QR кодот не се прикажува
```
Решенија:
1. Освежете ја страната (F5)
2. Проверете интернет конекција
3. Проверете дали сесијата е активна
4. Погледнете во browser console за грешки
```

**Симптом:** QR кодот е премал
```
Решенија:
1. Browser zoom (Ctrl/Cmd + +)
2. Fullscreen (F11)
3. Користете поголем екран/проектор
```

### Проблеми со Податоци

**Симптом:** Скенирањата не се ажурираат
```
Решенија:
1. Проверете интернет конекција
2. Освежете ја страната (F5)
3. Системот ажурира на секои 3 секунди
4. Проверете дали сесијата е активна
```

**Симптом:** Експортот не работи
```
Решенија:
1. Проверете popup blocker
2. Дозволете downloads во browser
3. Проверете слободен простор на диск
4. Пробајте друг браузер
```

### Проблеми со Перформанси

**Симптом:** Системот е бавен
```
Решенија:
1. Затворете непотребни табови
2. Рестартирајте го браузерот
3. Проверете интернет брзина
4. Користете Chrome или Firefox
5. Чистете browser cache
```

### Emergency Процедури

**Што да направите доколку системот престане да работи во текот на час:**

1. **Немате интернет**
   - Запишете ги студентите на хартија
   - Мануелно додадете кога се врати интернетот

2. **GPS не работи**
   - Започнете сесија од друга локација (надвор)
   - Користете мобилен уред со GPS

3. **Компјутерот се излачи**
   - Логирајте се од друг компјутер
   - Сесијата продолжува да работи
   - Податоците се зачувани

4. **Целосен пад на систем**
   - Запишете студенти на хартија
   - Контактирајте техничка поддршка
   - Мануелно внесете подоцна

---

## Контакт за Поддршка

### Техничка Поддршка
- Email: support@example.com
- Телефон: +389 XX XXX XXX
- Работно време: 08:00-16:00

### Админстратор на Систем
- За креирање на нов акаунт
- За ресетирање на лозинка
- За технички проблеми

### Документација
- README.md - Општа документација
- StudentGuide.md - Водич за студенти

---

**Верзија:** 1.0.0
**Последно ажурирање:** 2025
**© Систем за Евиденција на Присуство**
